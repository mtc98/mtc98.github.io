<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº”æŒ‡æ£‹å¿«é€Ÿæ¸¬è©¦</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: #f0f0f0;
        }
        .test-container {
            background: white;
            padding: 20px;
            margin: 10px 0;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .game-frame {
            border: 2px solid #333;
            border-radius: 10px;
            margin: 20px 0;
        }
        .test-button {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background: #5a67d8;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            font-weight: bold;
        }
        .success {
            background: #d4edda;
            color: #155724;
        }
        .info {
            background: #d1ecf1;
            color: #0c5460;
        }
    </style>
</head>
<body>
    <h1>äº”æŒ‡æ£‹éŠæˆ²ä¿®å¾©æ¸¬è©¦</h1>
    
    <div class="test-container">
        <h2>ğŸ® éŠæˆ²é è¦½</h2>
        <iframe src="index.html" width="100%" height="600" class="game-frame"></iframe>
    </div>
    
    <div class="test-container">
        <h2>ğŸ”§ ä¿®å¾©å…§å®¹</h2>
        <div class="status success">
            <h3>å·²ä¿®å¾©çš„å•é¡Œï¼š</h3>
            <ul>
                <li>âœ… æ·»åŠ äº†æ£‹ç›¤æ ¼ç·šæ¨£å¼</li>
                <li>âœ… æ”¹å–„äº†æ£‹å­é¡¯ç¤ºæ•ˆæœ</li>
                <li>âœ… ä¿®å¾©äº†è…³æœ¬è¼‰å…¥é †åº</li>
                <li>âœ… å¢å¼·äº†æ£‹ç›¤è¦–è¦ºå°æ¯”åº¦</li>
                <li>âœ… æ”¹å–„äº†æ£‹å­å®šä½å’Œå¤§å°</li>
            </ul>
        </div>
        
        <div class="status info">
            <h3>éŠæˆ²ç‰¹è‰²ï¼š</h3>
            <ul>
                <li>ğŸ¯ 15Ã—15æ¨™æº–æ£‹ç›¤</li>
                <li>ğŸ¤– æ™ºæ…§AIå°æ‰‹</li>
                <li>ğŸ”Š éŸ³æ•ˆç³»çµ±</li>
                <li>ğŸ“± éŸ¿æ‡‰å¼è¨­è¨ˆ</li>
                <li>âŒ¨ï¸ å¿«æ·éµæ”¯æ´</li>
            </ul>
        </div>
    </div>
    
    <div class="test-container">
        <h2>ğŸ“‹ æ¸¬è©¦æª¢æŸ¥æ¸…å–®</h2>
        <button class="test-button" onclick="checkVisualElements()">æª¢æŸ¥è¦–è¦ºå…ƒç´ </button>
        <button class="test-button" onclick="checkGameLogic()">æª¢æŸ¥éŠæˆ²é‚è¼¯</button>
        <button class="test-button" onclick="checkAI()">æª¢æŸ¥AIåŠŸèƒ½</button>
        
        <div id="testResults" style="margin-top: 20px;"></div>
    </div>
    
    <div class="test-container">
        <h2>ğŸ“– æ“ä½œèªªæ˜</h2>
        <ol>
            <li><strong>é–‹å§‹éŠæˆ²ï¼š</strong>é»æ“Šæ£‹ç›¤ä»»æ„ä½ç½®ä¸‹é»‘æ£‹</li>
            <li><strong>é›»è…¦å›æ‡‰ï¼š</strong>é›»è…¦æœƒè‡ªå‹•ä¸‹ç™½æ£‹</li>
            <li><strong>ç¹¼çºŒéŠæˆ²ï¼š</strong>è¼ªæµä¸‹æ£‹ç›´åˆ°é€£æˆäº”å­</li>
            <li><strong>æ‚”æ£‹ï¼š</strong>é»æ“Šã€Œæ‚”æ£‹ã€æŒ‰éˆ•ï¼ˆå¯æ‚”å…©æ­¥ï¼‰</li>
            <li><strong>é‡æ–°é–‹å§‹ï¼š</strong>é»æ“Šã€Œé‡æ–°é–‹å§‹ã€æŒ‰éˆ•</li>
        </ol>
        
        <h3>âŒ¨ï¸ å¿«æ·éµï¼š</h3>
        <ul>
            <li><kbd>Ctrl</kbd> + <kbd>R</kbd>ï¼šé‡æ–°é–‹å§‹</li>
            <li><kbd>Ctrl</kbd> + <kbd>Z</kbd>ï¼šæ‚”æ£‹</li>
            <li><kbd>Ctrl</kbd> + <kbd>S</kbd>ï¼šåˆ‡æ›éŸ³æ•ˆ</li>
        </ul>
    </div>

    <script>
        function addTestResult(message, type = 'info') {
            const resultsDiv = document.getElementById('testResults');
            const resultDiv = document.createElement('div');
            resultDiv.className = `status ${type}`;
            resultDiv.innerHTML = `<strong>${new Date().toLocaleTimeString()}:</strong> ${message}`;
            resultsDiv.appendChild(resultDiv);
        }

        function checkVisualElements() {
            addTestResult('æª¢æŸ¥è¦–è¦ºå…ƒç´ ...', 'info');
            
            // æª¢æŸ¥æ£‹ç›¤æ ¼ç·š
            const iframe = document.querySelector('iframe');
            try {
                const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                const boardCells = iframeDoc.querySelectorAll('.board-cell');
                const gamePieces = iframeDoc.querySelectorAll('.game-piece');
                
                if (boardCells.length > 0) {
                    addTestResult(`âœ… æ£‹ç›¤æ ¼ç·šæ­£å¸¸é¡¯ç¤º (${boardCells.length}å€‹æ ¼å­)`, 'success');
                } else {
                    addTestResult('âŒ æ£‹ç›¤æ ¼ç·šé¡¯ç¤ºç•°å¸¸', 'error');
                }
                
                if (gamePieces.length >= 0) {
                    addTestResult(`âœ… æ£‹å­æ¸²æŸ“ç³»çµ±æ­£å¸¸ (${gamePieces.length}å€‹æ£‹å­)`, 'success');
                }
                
            } catch (error) {
                addTestResult('æª¢æŸ¥éç¨‹ä¸­ç™¼ç”ŸéŒ¯èª¤: ' + error.message, 'error');
            }
        }

        function checkGameLogic() {
            addTestResult('æª¢æŸ¥éŠæˆ²é‚è¼¯...', 'info');
            
            try {
                // å˜—è©¦è¨ªå•éŠæˆ²ç‰©ä»¶
                const iframe = document.querySelector('iframe');
                const iframeWindow = iframe.contentWindow;
                
                if (iframeWindow.game) {
                    const game = iframeWindow.game;
                    addTestResult('âœ… éŠæˆ²ç‰©ä»¶è¼‰å…¥æˆåŠŸ', 'success');
                    addTestResult(`ğŸ“Š æ£‹ç›¤å¤§å°: ${game.board.size}Ã—${game.board.size}`, 'success');
                    addTestResult(`ğŸ® ç•¶å‰ç©å®¶: ${game.currentPlayer === 1 ? 'äººé¡' : 'é›»è…¦'}`, 'success');
                } else {
                    addTestResult('âŒ éŠæˆ²ç‰©ä»¶è¼‰å…¥å¤±æ•—', 'error');
                }
                
            } catch (error) {
                addTestResult('éŠæˆ²é‚è¼¯æª¢æŸ¥å¤±æ•—: ' + error.message, 'error');
            }
        }

        function checkAI() {
            addTestResult('æª¢æŸ¥AIåŠŸèƒ½...', 'info');
            
            try {
                const iframe = document.querySelector('iframe');
                const iframeWindow = iframe.contentWindow;
                
                if (iframeWindow.AI) {
                    addTestResult('âœ… AIé¡åˆ¥è¼‰å…¥æˆåŠŸ', 'success');
                    
                    // å˜—è©¦å‰µå»ºAIå¯¦ä¾‹é€²è¡Œæ¸¬è©¦
                    const testBoard = iframeWindow.game ? iframeWindow.game.board : null;
                    if (testBoard) {
                        const ai = new iframeWindow.AI(testBoard);
                        const move = ai.getBestMove();
                        if (move) {
                            addTestResult(`ğŸ¤– AIå»ºè­°ç§»å‹•: è¡Œ${move.row}, åˆ—${move.col}`, 'success');
                        }
                    }
                } else {
                    addTestResult('âŒ AIé¡åˆ¥è¼‰å…¥å¤±æ•—', 'error');
                }
                
            } catch (error) {
                addTestResult('AIæª¢æŸ¥å¤±æ•—: ' + error.message, 'error');
            }
        }

        // è‡ªå‹•æª¢æŸ¥
        setTimeout(() => {
            checkVisualElements();
            setTimeout(checkGameLogic, 1000);
            setTimeout(checkAI, 2000);
        }, 2000);
    </script>
</body>
</html>